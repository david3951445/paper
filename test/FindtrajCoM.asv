%Given r(t) find CoM(t)
% r(t) = [x(t); y(t)]

clc; clear; close all
addpath(genpath('../../src'))

x = -2:0.1:2;
y = sin(x);
% y = ones(1,length(x));
r = [x; y];

dr = my_diff(r);
% dr(1,:) = diff(r(1,:));
% dr(2,:) = diff(r(2,:));
r_l = dr;
r_r = dr;
L1 = 0.1;
for i = 1 : length(r)
    N = norm(dr(:, i));
    r_l(:, i) = r(:, i) + [-dr(2, i); dr(1, i)]/N*L1;
    r_r(:, i) = r(:, i) + [dr(2, i); -dr(1, i)]/N*L1;
end
step = 0.2;

r_dc = [
    
];
pp = spline(r_dc(1, :), r_dc(2, :));
yy = ppval(pp, linspace(0,2*pi,101));
plot(yy(1,:),yy(2,:),'-b')
% plot(r(1, :), r(2, :), '-o')
% hold on
% % plot(x, dr(2, :)./dr(1, :))
% plot(r_l(1, :), r_l(2, :))
% plot(r_r(1, :), r_r(2, :))
% legend

rmpath(genpath('../../src'))